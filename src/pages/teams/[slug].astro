---
import { getCollection } from "astro:content";
import Kanban from "../../components/Team/Kanban.astro";
import Member from "../../components/Team/Member.astro";
import TeamsLayout from "../../layouts/TeamsLayout.astro";

export async function getStaticPaths() {
    const teams = await getCollection("teams");
    return teams.map((team) => ({
        params: { slug: team.slug },
        props: team,
    }));
}

const { name, kana, summary, leader, member, kanban } = Astro.props.data;
const { Content } = await Astro.props.render();
---

<TeamsLayout name={name} kana={kana} summary={summary}>
    <Content />
    <Member leader={leader} member={member} />
    <Kanban words={kanban} />
</TeamsLayout>
